<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Muusika kordamine</title>
    <script>
        // returns random elem from array
        function randomChoice(arr) {
            return arr[Math.floor(Math.random() * arr.length)];
        };
        
        function removeElem(arr, elem) {
            for (var i = 0; i < arr.length; i ++){
                if (arr[i] === elem){
                    arr.splice(i, 1);
                    i--;
                }
            }
        };

        var data = {1: {'periood': 'Hilisromantism', 'video_link': 'https://www.youtube.com/embed/dfe8tCcHnKY', 'video_nimi': 'Nii kõneles Zarathustra', 'autor': 'Richard Strauss', 'kirjeldus': 'Kromaatiline harmoonia, vaskpuhkpillide osatähtsus, pikad teosed, müütidel põhinev, sümfooniaorkestri suurenemine'}, 2: {'periood': 'Hilisromantism', 'video_link': 'https://www.youtube.com/embed/XRU1AJsXN1g', 'video_nimi': 'Valküüride lend', 'autor': 'Richard Wagner', 'kirjeldus': 'Kromaatiline harmoonia, vaskpuhkpillide osatähtsus, pikad teosed, müütidel põhinev, sümfooniaorkestri suurenemine'}, 3: {'periood': 'Hilisromantism', 'video_link': 'https://www.youtube.com/embed/Les39aIKbzE', 'video_nimi': 'Mahler 5.s adagietto', 'autor': 'Gustav Mahler', 'kirjeldus': 'Kromaatiline harmoonia, vaskpuhkpillide osatähtsus, pikad teosed, müütidel põhinev, sümfooniaorkestri suurenemine'}, 4: {'periood': 'Impressionism', 'video_link': 'https://youtube.com/embed/CvFH_6DNRCY?t=7', 'video_nimi': 'Kuuvalgus', 'autor': 'Claude Debussy', 'kirjeldus': 'Helge ja positiivne, modernsem harmoonia, intiimne ja unistav, oluline instrument klaver, väiksem koosseis kui hilisromantismil'}, 5: {'periood': 'Impressionism', 'video_link': 'https://www.youtube.com/embed/p5Rhv1E3tEM', 'video_nimi': "Golliwog's Cakewalk", 'autor': 'Debussy', 'kirjeldus': 'Helge ja positiivne, modernsem harmoonia, intiimne ja unistav, oluline instrument klaver, väiksem koosseis kui hilisromantismil'}, 7: {'periood': 'Ekspressionism', 'video_link': 'https://www.youtube.com/embed/8hnFpLeeCT0', 'video_nimi': 'Valss Op. 23 Nr. 5', 'autor': 'Arnold Schönberg', 'kirjeldus': 'Segane, rütmi puudus, dramaatiline, palju instrumente, kaootiline, jutustav, laulmist tihti asendav kõne'}, 8: {'periood': 'Ekspressionism', 'video_link': 'https://www.youtube.com/embed/rGWai0SEpUQ', 'video_nimi': 'Ellujäänu Varssavist', 'autor': 'Arnold Schönberg', 'kirjeldus': 'Segane, rütmi puudus, dramaatiline, palju instrumente, kaootiline, jutustav, laulmist tihti asendav kõne'}, 10: {'periood': 'Neoklassitsism', 'video_link': 'https://www.youtube.com/embed/GXFSK0ogeg4', 'video_nimi': 'O Fortuna', 'autor': 'Carl Orff', 'kirjeldus': 'Klassikaline harmoonia, põhirõhk aktiivsel rühmil, domineerivad vaskpillid, hüppeline meloodia, teravad kõlad'}, 11: {'periood': 'Neoklassitsism', 'video_link': 'https://www.youtube.com/embed/Z_hOR50u7ek', 'video_nimi': 'Romeo ja Juliet', 'autor': 'Sergei Prokofjev', 'kirjeldus': 'Klassikaline harmoonia, põhirõhk aktiivsel rühmil, domineerivad vaskpillid, hüppeline meloodia, teravad kõlad'}, 12: {'periood': 'Neoklassitsism', 'video_link': 'https://www.youtube.com/embed/NxfDSBusHvM', 'video_nimi': 'Stalin', 'autor': 'Dmitri Šostakovitš', 'kirjeldus': 'Klassikaline harmoonia, põhirõhk aktiivsel rühmil, domineerivad vaskpillid, hüppeline meloodia, teravad kõlad'}, 13: {'periood': 'Avangardism', 'video_link': 'https://www.youtube.com/embed/h_ik4VMcLkA', 'video_nimi': 'Water music', 'autor': 'John Cage', 'kirjeldus': 'Vältis või muutis klassikalisi pille, võtsid kasutusele kõik helid, intellektuaalne, šokeeriv, kasutas müra, kasutas vaikust, tavaline noodikiri asendati suvaliste kujunditega'}, 14: {'periood': 'Avangardism', 'video_link': 'https://www.youtube.com/embed/LcCs6Muljmk', 'video_nimi': 'Noorte laul', 'autor': 'Karlheinz Stockhausen', 'kirjeldus': 'Vältis või muutis klassikalisi pille, võtsid kasutusele kõik helid, intellektuaalne, šokeeriv, kasutas müra, kasutas vaikust, tavaline noodikiri asendati suvaliste kujunditega'}, 15: {'periood': 'Minimalism', 'video_link': 'https://www.youtube.com/embed/xn38GnSAlj8', 'video_nimi': 'Drumming II', 'autor': 'Steve Reich', 'kirjeldus': 'Pöördumine lihtsuse suunas, põhinev kordustel, kasutatakse nii klassikalisi kui ka elektroonilisi instrumente, kõige domineeriv on rütm, oluline on videokunst'}, 16: {'periood': 'Minimalism', 'video_link': 'https://www.youtube.com/embed/dMcz4jhDWMI', 'video_nimi': 'City Life', 'autor': 'Philipp Glass', 'kirjeldus': 'Pöördumine lihtsuse suunas, põhinev kordustel, kasutatakse nii klassikalisi kui ka elektroonilisi instrumente, kõige domineeriv on rütm, oluline on videokunst'}, 17: {'periood': 'Minimalism', 'video_link': 'https://www.youtube.com/embed/6Stu7h7Qup8', 'video_nimi': 'Glassworks', 'autor': 'Philipp Glass', 'kirjeldus': 'Pöördumine lihtsuse suunas, põhinev kordustel, kasutatakse nii klassikalisi kui ka elektroonilisi instrumente, kõige domineeriv on rütm, oluline on videokunst'}, 19: {'periood': 'tintinnabuli', 'video_link': 'https://www.youtube.com/embed/TJ6Mzvh3XCc', 'video_nimi': 'Peegel peeglis', 'autor': 'Arvo Pärt', 'kirjeldus': 'Esimene liin: korduv, kolmekõlaline, igavene, inimesest sõltumatu, Teine liin: Muutuv, inimelugaseotud'}}
        var unusedSongs = Object.keys(data);
        var usedSongs = []
        var song_information = [];
        
        function newSong() {
            if (unusedSongs.length > 0) {
            document.getElementById("answer").innerHTML = ''  // clears answers header
            var key = randomChoice(unusedSongs);  // takes random song key from list
            removeElem(unusedSongs, key)  // removes key from unusedSongs
            usedSongs.push(key) // pushes the key to usedsongs list
            // Fills array with information ->
            song_information = [];
            song_information.push(data[key]["periood"]);  // 0 
            song_information.push(data[key]["video_link"]); // 1
            song_information.push(data[key]["video_nimi"]);  // 2
            song_information.push(data[key]["autor"]); // 3
            song_information.push(data[key]['kirjeldus']) // 4
            
            document.getElementById("yt_video").src=song_information[1]
        } else {
            alert("Kõik lood on mängitud, värskendage lehte. ")
        }};

        function showAnswer(){
            document.getElementById("answer").innerHTML = `Periood: ${song_information[0]}<br>Autor: ${song_information[3]}<br>Laulu nimi: ${song_information[2]}<br>Kirjeldus: ${song_information[4]}`
        };

        
    </script>
</head>
<body onload="newSong();">
    <div class="container">
        <div class="banner"><h1>Muusika kordamine</h1></div>
        <div class="wrapper">
            <div class="frame-container">
                <iframe width="420" height="345" id="yt_video" src=""></iframe>
            </div>
        </div>
        <div class="buttons">
            <button type="button" id="next_button" onclick="newSong()">Uus video</button>
            <button type="button" id="answer_button" onclick="showAnswer()">Näita vastus</button>
        </div>
        <div class="answer_box"><h1 id="answer"></h1></div>
    </div>
</body>
</html>

<style>
.container{
    width:800px;
    margin:0 auto;
}
.frame-container {
    position: relative;
    padding-bottom: 56.25%; /* 16:9 */  
    padding-top: 25px;
    width: 300%; /* enlarge beyond browser width */
    left: -100%; /* center */
}

.frame-container iframe {
    position: absolute; 
    top: 0; 
    left: 0; 
    width: 100%; 
    height: 100%;
}

.wrapper {
   overflow: hidden;
   max-width: 100%;
}
.buttons{
    padding-top: 10px;
    padding-left: 325px;
}
.answer_box{
    padding-left:242px;
}
.banner{
    padding-left:270px;
}
</style>
